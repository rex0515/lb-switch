<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="color-scheme">
    <title>Switch</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="lb-switch.css">
</head>
<body>
<div id="wrapper">
    <h1>Dark mode?</h1>
    <div class="lb-switch on" onclick="let states=['on','off'];let state=this.classList.contains('on');this.classList.add(states[+state]);this.classList.remove(states[+!state]);this.dispatchEvent(new CustomEvent('onswitched',{detail:{state:state}}));">
        <div class="lb-switch-inner">
            <div class="lb-switch-circle"></div>
            <div id="clouds">
                <div id="cloud-0" class="cloud"></div>
                <div id="cloud-1" class="cloud"></div>
                <div id="cloud-2" class="cloud"></div>
                <div id="cloud-3" class="cloud"></div>
            </div>
            <div id="stars">
                <div id="star-0" class="star"></div>
                <div id="star-1" class="star"></div>
                <div id="star-2" class="star"></div>
                <div id="star-3" class="star"></div>
            </div>
        </div>
    </div>
</div>
<script>
	document.querySelector(".lb-switch").addEventListener("onswitched", e => {
		//document.body.style.colorScheme = ["dark", "light"][+e.detail.state]; // TODO: uncomment for release
    });
</script>
</body>
</html>